<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <link rel="manifest" href="manifest.json">
  <title>Ninguém Vai Saber</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0f0f0f">
  <meta name="description" content="Confissões anônimas. Reais. Sem filtro.">

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #0f0f0f;
      color: #f2f2f2;
      min-height: 100vh;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card {
      width: 100%;
      max-width: 420px;
      background: #1a1a1a;
      border-radius: 18px;
      padding: 22px;
      box-shadow: 0 0 40px rgba(0,0,0,0.7);
    }

    h1 {
      margin-top: 0;
      font-size: 22px;
      font-weight: bold;
    }

    p {
      color: #ccc;
      font-size: 14px;
    }

    textarea {
      width: 100%;
      height: 90px;
      margin-top: 10px;
      background: #0f0f0f;
      color: #f2f2f2;
      border: 1px solid #333;
      border-radius: 10px;
      padding: 10px;
      resize: none;
      font-size: 14px;
    }

    button {
      width: 100%;
      margin-top: 12px;
      padding: 14px;
      border-radius: 12px;
      border: none;
      font-size: 15px;
      font-weight: bold;
      cursor: pointer;
    }

    .primary {
      background: #e53935;
      color: #fff;
    }

    .secondary {
      background: transparent;
      color: #aaa;
      border: 1px solid #333;
    }

    .share {
      background: #333;
      color: #fff;
    }

    .confissao {
      margin-top: 18px;
      font-style: italic;
      color: #ddd;
    }

    small {
      display: block;
      margin-top: 12px;
      color: #777;
      font-size: 12px;
    }
  </style>
</head>

<body>

<div class="card">
  <h1>Ninguém vai saber</h1>
  <p>Escreva algo que você nunca diria em voz alta.</p>

  <textarea id="entrada" placeholder="Escreva aqui..."></textarea>

  <button class="primary" onclick="enviar()">Enviar confissão</button>

  <div id="resposta"></div>

  <button class="secondary" onclick="outra()">Ler outra confissão</button>
  <button class="share" onclick="compartilhar()">Compartilhar</button>

  <small id="contador"></small>
</div>

<script>
 
const respostas = [
  { intro: "Você não é estranho por sentir isso.", texto: "Muita gente vive no automático só pra não encarar o que dói." },
  { intro: "Quase ninguém fala sobre isso.", texto: "Esse tipo de pensamento aparece quando a gente aguenta mais do que devia." },
  { intro: "Isso não te define.", texto: "Mas diz muito sobre o quanto você anda cansado." },
  { intro: "Se você sente isso, não é fraqueza.", texto: "É sinal de que algo importante está sendo ignorado." },
  { intro: "Talvez você nunca diga isso em voz alta.", texto: "Nem tudo precisa ser dito pra ser real." },
  { intro: "Tem dias que a gente só continua.", texto: "Não por esperança, mas por hábito." }
];

const confissoes = [
  "Finjo que não me importo, mas me importo demais.",
  "Sinto falta de alguém que ainda está na minha vida.",
  "Tenho medo de ser descoberto como alguém medíocre.",
  "Às vezes queria desaparecer sem machucar ninguém.",
  "Não confio nem nas pessoas que dizem me amar.",
  "Sorrio muito para não precisar explicar nada."
];

let hoje = new Date().toDateString();
let estado = JSON.parse(localStorage.getItem("estado")) || { data: hoje, lidas: 0 };

if (estado.data !== hoje) {
  estado = { data: hoje, lidas: 0 };
}

function salvar() {
  localStorage.setItem("estado", JSON.stringify(estado));
  document.getElementById("contador").innerText =
    `Hoje, ${1200 + Math.floor(Math.random() * 800)} pessoas sentiram algo parecido.`;
}

function mostrarResposta() {
  const r = respostas[Math.floor(Math.random() * respostas.length)];
  const c = confissoes[Math.floor(Math.random() * confissoes.length)];

  document.getElementById("resposta").innerHTML = `
    <p><strong>${r.intro}</strong></p>
    <p class="confissao">“${c}”</p>
    <p style="color:#aaa;font-size:13px;">${r.texto}</p>
  `;

  estado.lidas++;
  salvar();
}

function enviar() {
  document.getElementById("entrada").value = "";
  mostrarResposta();
}

function outra() {
  if (estado.lidas >= 3) {
    document.getElementById("resposta").innerHTML = `
      <p><strong>Você já leu bastante hoje.</strong></p>
      <p style="color:#ccc;font-size:14px;">Quer ler mais uma?</p>
      <button class="primary" onclick="liberar()">Liberar mais uma</button>
    `;
    return;
  }
  mostrarResposta();
}

function liberar() {
  estado.lidas--;
  mostrarResposta();
}

function compartilhar() {
  const frases = [
    "Li algo aqui que não saiu da minha cabeça.",
    "Isso me pegou de um jeito estranho.",
    "Alguém escreveu algo aqui que parece comigo.",
    "Não sei por que isso fez sentido."
  ];

  const texto = frases[Math.floor(Math.random() * frases.length)];

  if (navigator.share) {
    navigator.share({
      title: "Ninguém Vai Saber",
      text: texto,
      url: window.location.href
    });
  } else {
    navigator.clipboard.writeText(texto + " " + window.location.href);
    alert("Texto copiado. Agora é só colar e compartilhar.");
  }
}

salvar();

</script>

</body>
</html>
